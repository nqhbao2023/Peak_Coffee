# ğŸ“Š HÆ¯á»šNG DáºªN Há»† THá»NG GHI Ná»¢ - PEAK COFFEE

> **PhiÃªn báº£n:** v1.0  
> **NgÃ y táº¡o:** 2024  
> **Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ cÃ´ng ná»£ khÃ¡ch hÃ ng thanh toÃ¡n cuá»‘i thÃ¡ng

---

## ğŸ¯ Má»¤C ÄÃCH

Há»‡ thá»‘ng cho phÃ©p **90% khÃ¡ch quen** ghi ná»£ vÃ  thanh toÃ¡n sau (thÆ°á»ng vÃ o cuá»‘i thÃ¡ng). Há»— trá»£:
- âœ… Thanh toÃ¡n tá»«ng pháº§n (tráº£ thiáº¿u)
- âœ… Theo dÃµi lá»‹ch sá»­ thanh toÃ¡n
- âœ… Thá»‘ng kÃª cÃ´ng ná»£ realtime
- âœ… Quáº£n lÃ½ chi tiáº¿t tá»«ng khÃ¡ch hÃ ng

---

## ğŸ“± HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG CHO KHÃCH HÃ€NG

### BÆ°á»›c 1: ThÃªm mÃ³n vÃ o giá»
- Chá»n mÃ³n nhÆ° bÃ¬nh thÆ°á»ng
- TÃ¹y chá»‰nh (Size, ÄÃ¡, ÄÆ°á»ng) náº¿u cáº§n

### BÆ°á»›c 2: Thanh toÃ¡n
1. Nháº¥n **"Thanh toÃ¡n"** tá»« giá» hÃ ng
2. Chá»n phÆ°Æ¡ng thá»©c **"Ghi ná»£"** (icon Ä‘á»“ng há»“ â°)
3. Nháº­p thÃ´ng tin:
   - **Há» tÃªn:** VD: Nguyá»…n VÄƒn A
   - **Sá»‘ Ä‘iá»‡n thoáº¡i:** VD: 0901234567
4. Nháº¥n **"XÃC NHáº¬N Äáº¶T HÃ€NG"**

### Káº¿t quáº£:
- âœ… ÄÆ¡n hÃ ng Ä‘Æ°á»£c ghi ná»£ thÃ nh cÃ´ng
- ğŸ“± Hiá»ƒn thá»‹ thÃ´ng bÃ¡o: "ÄÃ£ ghi ná»£ cho [TÃªn khÃ¡ch]!"
- ğŸ’¾ LÆ°u vÃ o há»‡ thá»‘ng cÃ´ng ná»£

---

## ğŸ‘¨â€ğŸ’¼ HÆ¯á»šNG DáºªN QUáº¢N LÃ CHO ADMIN

### Truy cáº­p trang CÃ´ng ná»£

1. ÄÄƒng nháº­p admin
2. Má»Ÿ **Admin Dashboard**
3. Chá»n tab **"CÃ´ng ná»£"** (icon ğŸ’²)

### CÃ¡c tÃ­nh nÄƒng chÃ­nh:

#### ğŸ“Š **Thá»‘ng kÃª tá»•ng quan**
Hiá»ƒn thá»‹ 4 tháº» thá»‘ng kÃª:
- **Tá»•ng ná»£** (mÃ u Ä‘á»): Tá»•ng tiá»n khÃ¡ch Ä‘ang ná»£
- **KhÃ¡ch ná»£** (mÃ u xanh dÆ°Æ¡ng): Sá»‘ lÆ°á»£ng khÃ¡ch Ä‘ang cÃ³ ná»£
- **ÄÆ¡n chÆ°a TT** (mÃ u vÃ ng): Sá»‘ Ä‘Æ¡n hÃ ng chÆ°a thanh toÃ¡n Ä‘á»§
- **ÄÃ£ thu** (mÃ u xanh lÃ¡): Tá»•ng sá»‘ tiá»n Ä‘Ã£ thu Ä‘Æ°á»£c

#### ğŸ” **TÃ¬m kiáº¿m khÃ¡ch hÃ ng**
- GÃµ tÃªn hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i vÃ o Ã´ tÃ¬m kiáº¿m
- Káº¿t quáº£ lá»c realtime

#### ğŸ“‹ **Danh sÃ¡ch khÃ¡ch hÃ ng**
Hiá»ƒn thá»‹:
- TÃªn + Sá»‘ Ä‘iá»‡n thoáº¡i
- Tá»•ng ná»£ cÃ²n láº¡i
- Sá»‘ Ä‘Æ¡n hÃ ng
- Tá»•ng Ä‘Ã£ tráº£
- Badge "Ná»£ cao" náº¿u > 50,000Ä‘

**Nháº¥n vÃ o khÃ¡ch** Ä‘á»ƒ xem chi tiáº¿t & thanh toÃ¡n.

---

## ğŸ’° THANH TOÃN Ná»¢

### CÃ¡ch 1: Thanh toÃ¡n nhanh (ToÃ n bá»™ hoáº·c 1/2)
1. Má»Ÿ chi tiáº¿t khÃ¡ch hÃ ng
2. Pháº§n **"Thanh toÃ¡n nhanh"**:
   - Nháº­p sá»‘ tiá»n
   - Hoáº·c nháº¥n **"Tráº£ háº¿t"** / **"Tráº£ 1/2"**
3. Nháº¥n **"Thanh toÃ¡n"**

### CÃ¡ch 2: Thanh toÃ¡n tá»«ng Ä‘Æ¡n
1. TÃ¬m Ä‘Æ¡n cáº§n thanh toÃ¡n (mÃ u Ä‘á» = chÆ°a TT)
2. Nháº¥n **"Thanh toÃ¡n Ä‘Æ¡n nÃ y"**
3. Nháº­p sá»‘ tiá»n (cÃ³ thá»ƒ tráº£ thiáº¿u)
4. Nháº¥n **"OK"**

### Káº¿t quáº£:
- âœ… Náº¿u tráº£ Ä‘á»§: ÄÆ¡n chuyá»ƒn sang mÃ u xanh lÃ¡, hiá»ƒn thá»‹ "âœ“ ÄÃ£ thanh toÃ¡n"
- âš ï¸ Náº¿u tráº£ thiáº¿u: Hiá»ƒn thá»‹ sá»‘ tiá»n cÃ²n ná»£, lÆ°u lá»‹ch sá»­ thanh toÃ¡n

---

## ğŸ“ˆ Lá»ŠCH Sá»¬ THANH TOÃN

Má»—i Ä‘Æ¡n hÃ ng hiá»ƒn thá»‹:
- NgÃ y thanh toÃ¡n
- Sá»‘ tiá»n Ä‘Ã£ tráº£
- Sá»‘ tiá»n cÃ²n ná»£

**VÃ­ dá»¥:**
```
Lá»‹ch sá»­ thanh toÃ¡n:
12/01/2024    +50,000Ä‘
15/01/2024    +30,000Ä‘
[CÃ²n ná»£: 20,000Ä‘]
```

---

## ğŸ”„ TRáº NG THÃI ÄÆ N HÃ€NG

| Tráº¡ng thÃ¡i | MÃ u sáº¯c | Ã nghÄ©a |
|-----------|---------|---------|
| **DEBT** | ğŸ”´ Äá» | CÃ²n ná»£ (chÆ°a thanh toÃ¡n Ä‘á»§) |
| **PAID** | ğŸŸ¢ Xanh lÃ¡ | ÄÃ£ thanh toÃ¡n Ä‘á»§ |

---

## ğŸ’¡ TÃNH NÄ‚NG Ná»”I Báº¬T

### 1. Thanh toÃ¡n tá»«ng pháº§n
- KhÃ¡ch cÃ³ thá»ƒ tráº£ tá»«ng pháº§n thay vÃ¬ tráº£ háº¿t
- Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh sá»‘ tiá»n cÃ²n láº¡i
- VD: Ná»£ 100,000Ä‘ â†’ Tráº£ 60,000Ä‘ â†’ CÃ²n 40,000Ä‘

### 2. LÆ°u lá»‹ch sá»­
- Má»—i láº§n thanh toÃ¡n Ä‘á»u Ä‘Æ°á»£c ghi láº¡i
- CÃ³ timestamp chÃ­nh xÃ¡c
- Xem Ä‘Æ°á»£c toÃ n bá»™ quÃ¡ trÃ¬nh thanh toÃ¡n

### 3. Tá»± Ä‘á»™ng sáº¯p xáº¿p
- KhÃ¡ch ná»£ nhiá»u nháº¥t hiá»ƒn thá»‹ trÃªn Ä‘áº§u
- Dá»… dÃ ng theo dÃµi khÃ¡ch cáº§n Æ°u tiÃªn

### 4. Badge cáº£nh bÃ¡o
- "Ná»£ cao" náº¿u tá»•ng ná»£ > 50,000Ä‘
- MÃ u Ä‘á» ná»•i báº­t Ä‘á»ƒ dá»… nháº­n biáº¿t

---

## ğŸ“¦ Cáº¤U TRÃšC Dá»® LIá»†U

### Customer (KhÃ¡ch hÃ ng)
```javascript
{
  phone: "0901234567",
  name: "Nguyá»…n VÄƒn A",
  totalDebt: 100000,      // Tá»•ng ná»£ cÃ²n láº¡i
  totalPaid: 50000,       // Tá»•ng Ä‘Ã£ tráº£
  orderCount: 5,          // Sá»‘ Ä‘Æ¡n hÃ ng
  orders: [...],          // Danh sÃ¡ch ID Ä‘Æ¡n hÃ ng
  createdAt: "2024-01-01T10:00:00",
  lastOrderDate: "2024-01-15T14:30:00",
  lastPaymentDate: "2024-01-10T09:00:00"
}
```

### DebtOrder (ÄÆ¡n ná»£)
```javascript
{
  id: "debt_xxx",
  orderCode: "PC1234",
  customerName: "Nguyá»…n VÄƒn A",
  customerPhone: "0901234567",
  items: [...],           // Danh sÃ¡ch mÃ³n
  total: 100000,          // Tá»•ng tiá»n Ä‘Æ¡n
  paid: 60000,            // ÄÃ£ thanh toÃ¡n
  remaining: 40000,       // CÃ²n ná»£
  status: "DEBT",         // DEBT hoáº·c PAID
  paymentHistory: [       // Lá»‹ch sá»­ thanh toÃ¡n
    {
      id: "pay_xxx",
      amount: 30000,
      paidAt: "2024-01-10T09:00:00"
    },
    {
      id: "pay_yyy",
      amount: 30000,
      paidAt: "2024-01-12T15:00:00"
    }
  ],
  createdAt: "2024-01-01T10:00:00"
}
```

---

## ğŸ› ï¸ API CONTEXT

### `useDebt()` Hook

#### Láº¥y dá»¯ liá»‡u:
```javascript
const { 
  customers,           // Danh sÃ¡ch khÃ¡ch hÃ ng
  debtOrders,          // Danh sÃ¡ch Ä‘Æ¡n ná»£
  getDebtStats,        // Láº¥y thá»‘ng kÃª
  getCustomerDebtOrders // Láº¥y Ä‘Æ¡n theo khÃ¡ch
} = useDebt();
```

#### Thao tÃ¡c:
```javascript
// Táº¡o Ä‘Æ¡n ná»£ má»›i
createDebtOrder({
  orderCode: "PC1234",
  customerName: "Nguyá»…n VÄƒn A",
  customerPhone: "0901234567",
  items: cartItems,
  total: 100000
});

// Thanh toÃ¡n (tá»«ng pháº§n hoáº·c Ä‘á»§)
payDebt(orderId, amount);

// Thanh toÃ¡n toÃ n bá»™ ná»£ cá»§a 1 khÃ¡ch
payAllDebtByCustomer(customerPhone, amount);
```

---

## ğŸ¨ THIáº¾T Káº¾ UI/UX

### MÃ u sáº¯c:
- ğŸ”´ **Äá»:** Ná»£, cáº£nh bÃ¡o
- ğŸŸ¢ **Xanh lÃ¡:** ÄÃ£ thanh toÃ¡n
- ğŸ”µ **Xanh dÆ°Æ¡ng:** Ghi ná»£, thÃ´ng tin
- ğŸŸ¡ **VÃ ng:** Chá» xá»­ lÃ½

### Icons:
- â° **Clock:** Ghi ná»£
- ğŸ’² **DollarSign:** CÃ´ng ná»£
- ğŸ‘¤ **User:** KhÃ¡ch hÃ ng
- ğŸ“ **Phone:** Sá»‘ Ä‘iá»‡n thoáº¡i
- âœ… **Check:** ÄÃ£ thanh toÃ¡n
- âš ï¸ **AlertCircle:** ChÆ°a thanh toÃ¡n

---

## ğŸ“ LÆ¯U Ã QUAN TRá»ŒNG

### âœ… NÃªn lÃ m:
- Kiá»ƒm tra thÃ´ng tin khÃ¡ch trÆ°á»›c khi ghi ná»£
- Cáº­p nháº­t thanh toÃ¡n ngay khi nháº­n tiá»n
- Theo dÃµi thá»‘ng kÃª Ä‘á»‹nh ká»³
- Nháº¯c nhá»Ÿ khÃ¡ch ná»£ quÃ¡ háº¡n

### âŒ KhÃ´ng nÃªn:
- Äá»ƒ khÃ¡ch ná»£ quÃ¡ nhiá»u (>500,000Ä‘ nÃªn cáº£nh bÃ¡o)
- QuÃªn cáº­p nháº­t thanh toÃ¡n
- XÃ³a lá»‹ch sá»­ thanh toÃ¡n
- Äá»ƒ trÃ¹ng sá»‘ Ä‘iá»‡n thoáº¡i (há»‡ thá»‘ng tá»± nháº­n diá»‡n)

---

## ğŸš€ TÃNH NÄ‚NG TÆ¯Æ NG LAI (Dá»± kiáº¿n)

- [ ] SMS/Zalo nháº¯c ná»£ tá»± Ä‘á»™ng
- [ ] Xuáº¥t bÃ¡o cÃ¡o Excel
- [ ] Biá»ƒu Ä‘á»“ thá»‘ng kÃª theo thá»i gian
- [ ] Äáº·t háº¡n thanh toÃ¡n
- [ ] TÃ­nh lÃ£i náº¿u quÃ¡ háº¡n
- [ ] QR Code thanh toÃ¡n nhanh

---

## ğŸ› Xá»¬ LÃ Lá»–I

### Lá»—i thÆ°á»ng gáº·p:

**1. "Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin"**
- **NguyÃªn nhÃ¢n:** ChÆ°a nháº­p tÃªn hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i
- **Giáº£i phÃ¡p:** Äiá»n Ä‘áº§y Ä‘á»§ 2 trÆ°á»ng

**2. "Sá»‘ Ä‘iá»‡n thoáº¡i khÃ´ng há»£p lá»‡"**
- **NguyÃªn nhÃ¢n:** SÄT < 10 sá»‘
- **Giáº£i phÃ¡p:** Nháº­p Ä‘Ãºng format (VD: 0901234567)

**3. "Sá»‘ tiá»n vÆ°á»£t quÃ¡ ná»£ cÃ²n láº¡i"**
- **NguyÃªn nhÃ¢n:** Nháº­p sá»‘ tiá»n lá»›n hÆ¡n sá»‘ ná»£
- **Giáº£i phÃ¡p:** Kiá»ƒm tra láº¡i sá»‘ ná»£ vÃ  nháº­p Ä‘Ãºng

---

## ğŸ“ Há»– TRá»¢

Náº¿u gáº·p váº¥n Ä‘á» khi sá»­ dá»¥ng há»‡ thá»‘ng:
1. Kiá»ƒm tra console log (F12)
2. Xem localStorage: `debt_customers`, `debt_orders`
3. LiÃªn há»‡ developer Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£

---

## ğŸ“„ Báº¢N QUYá»€N

Â© 2024 Peak Coffee - Há»‡ thá»‘ng quáº£n lÃ½ cÃ´ng ná»£ v1.0

---

**ğŸ‰ CHÃšC Báº N Sá»¬ Dá»¤NG HIá»†U QUáº¢!**
